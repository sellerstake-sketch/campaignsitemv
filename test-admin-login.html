<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .success {
            background: #d4edda;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>

<body>
    <h1>Admin Login Diagnostic</h1>
    <div id="results"></div>

    <script type="module">
        const firebaseConfig = {
            apiKey: "AIzaSyApT0uj8sz3mC8bDtLQeHHodAtZlqfJDns",
            authDomain: "rajjecampaign.firebaseapp.com",
            projectId: "rajjecampaign",
            storageBucket: "rajjecampaign.firebasestorage.app",
            messagingSenderId: "480799282234",
            appId: "1:480799282234:web:a35c084610bcdfc2ed9103",
            measurementId: "G-2K7J967N1V"
        };
        
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        
        const results = document.getElementById('results');
        
        function addResult(message, isError = false) {
            const div = document.createElement('div');
            div.className = 'test-result ' + (isError ? 'error' : 'success');
            div.textContent = message;
            results.appendChild(div);
        }
        
        addResult('Firebase initialized successfully');
        addResult('Auth instance created');
        
        // Test login
        const email = prompt('Enter admin email:', 'rixaski@gmail.com');
        const password = prompt('Enter admin password:');
        
        if (email && password) {
            addResult(`Attempting login with email: ${email}`);
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    addResult(`✓ Login successful! User: ${userCredential.user.email}`);
                    addResult(`✓ UID: ${userCredential.user.uid}`);
                })
                .catch((error) => {
                    addResult(`✗ Login failed: ${error.code} - ${error.message}`, true);
                    
                    if (error.code === 'auth/user-not-found') {
                        addResult('→ Solution: Create the admin account in Firebase Authentication console', true);
                    } else if (error.code === 'auth/wrong-password') {
                        addResult('→ Solution: Check your password in Firebase Authentication', true);
                    } else if (error.code === 'auth/invalid-credential') {
                        addResult('→ Solution: Verify email and password are correct', true);
                    }
                });
        }
    </script>
</body>

